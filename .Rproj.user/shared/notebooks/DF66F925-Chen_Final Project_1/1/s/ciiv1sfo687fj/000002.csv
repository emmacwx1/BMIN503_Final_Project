"0","# Run UMAP on all surface markers"
"0","set.seed(overall_seed)"
"0","myumap <-"
"0","  umap(transformed.chosen.markers,"
"0","       ret_model = TRUE,"
"0","       n_threads = 1, "
"0","       verbose = TRUE)"
"2","16:10:30 UMAP embedding parameters a = 1.896 b = 0.8006
"
"2","16:10:30 Read 8000 rows and found 25 numeric columns
"
"2","16:10:30 Using Annoy for neighbor search, n_neighbors = 15
"
"2","16:10:31 Building Annoy index with metric = euclidean, n_trees = 50
"
"2","0%   10   20   30   40   50   60   70   80   90   100%
"
"2","[----|----|----|----|----|----|----|----|----|----|
"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","|
"
"2","16:10:34 Writing NN index file to temp file C:\Users\Emma\AppData\Local\Temp\Rtmpu2sUtX\file32501b371e6
"
"2","16:10:34 Searching Annoy index using 1 thread, search_k = 1500
"
"2","16:10:37 Annoy recall = 100%
"
"2","16:10:38 Commencing smooth kNN distance calibration using 1 thread
"
"2","16:10:39 Initializing from normalized Laplacian + noise
"
"2","16:10:39 Commencing optimization for 500 epochs, with 168348 positive edges
"
"2","0%   10   20   30   40   50   60   70   80   90   100%
"
"2","[----|----|----|----|----|----|----|----|----|----|
"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","*"
"2","|
"
"2","16:11:08 Optimization finished
"
"0","umap.data = as.data.frame(myumap$embedding)"
"0",""
"0","range <- apply(apply(umap.data, 2, range), 2, diff)"
"0","graphical.ratio <- (range[1] / range[2])"
"0",""
"0","# UMAP flat dot plot and density dot plot"
"0","UMAP.plot <- data.frame(x = umap.data[, 1], y = umap.data[, 2])"
"0",""
"0","ggplot(UMAP.plot) + coord_fixed(ratio = graphical.ratio) + "
"0","  geom_point(aes(x = x, y = y), cex = 1) + labs(x = ""UMAP 1"", y = ""UMAP 2"", "
"0","                                                title = ""UMAP on 1 patient's 8 timepoints Data"") + "
"0","  theme_bw() + "
"0","  labs(caption = ""Data from Divij Mathew/Wherry Lab"")"
